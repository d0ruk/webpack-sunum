<!doctype html>
<head>
	<meta charset="utf-8">
	<title>Webpack sunum</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
	<meta name="author" content="Doruk Kutlu" />
	<link rel="stylesheet" href="css/reveal.css">
	<link rel="stylesheet" href="css/serif.css">
	<link rel="stylesheet" href="css/zenburn.css">
	<link rel="stylesheet" href="css/index.css">
	<!--[if lt IE 9]><script src="lib/js/html5shiv.js"></script><![endif]-->
</head>

<body>
	<div id="timer"></div>
	<div class="reveal">
		<div class="slides">
			<section>
				<h2>Kimim ben?</h2>
				<img style="border-radius:80%" src="images/animal-the-muppets.jpg" width="20%">
				<p>Doruk Kutlu</p>
				<p>JavaScript Geliştirici</p>
				<p><em>@doruk</em></p>
			</section>
			<section>
				<section>
					<img src="images/webpack-logo.svg" height="200px" width="200px">
					<h2>Webpack nedir?</h2>
				</section>
				<section>
					<p>Terminalden komutlar vererek konfigüre edebildiğiniz, JS
						ile yazılmış bir CLI'dır.</p>
						<pre><code class="bash">> webpack -p --entry "./src/index" --progress --hide-modules</code></pre>
						<p style="font-size:2rem">Ancak, terminale uzun bir
							komut girmek yerine, CLI'a <br> bir config objesi vermek daha mantıklı.</p>
							<pre><code class="js">// webpack.config.js
module.exports = function(env) {
  return { // config objesi
    entry: // modül ağına giriş
    output: // nereye ve nasıl çıktı alınacak
    module: // karşılaşılan dosyalara nasıl müdahale edilecek
    plugins: // build prosesinize eklentiler
  }
}</code></pre>
  	      <aside class="notes">Gereken minimal config entry ve output</aside>
				</section>
				<section>
					<p><b>Girdi:</b> kaynak kodunuz (modüller ağı) ve konfigürasyonunuz</p>
					<p><b>Çıktı: </b> tarayıcılarda kullanılabilecek <i>bundle</i> dosyaları</p>
				</section>
				<section>
					<img src="images/webpack-modular.png">
				</section>
				<section>
					<h2>Her şey modül</h2>
					<pre><code class="js">// index.js
require("./index.css");
const svg = require("./static/resim.svg");
const jpeg = require("./static/resim2.jpeg");
const foo = require("./bar.js)";
// ya da ES2015 import
import foo from "./bar.js"</code></pre>
<pre><code class="js">// index.css
@import url("https://fonts.googleapis.com/css?family=Roboto");
@font-face {
  font-family: "Roboto";
  src: url("/fonts/Roboto-Regular.ttf") format("truetype");
}</code></pre>
				</section>
			</section>

			<section>
				<section>
					<img src="images/diy.jpg">
					<h2>Minimum Viable Product</h2>
				</section>
				<section>
					<p>Mutabık mıyız?</p>
					<pre><code class="sh">> node -v # 4 ve üzeri
> npm -v # 3 ve üzeri
> git --version # 2.7 ve üzeri</code></pre>
				</section>
				<section>
					<h2>Kaç saniye sürecek?</h2><br>
					<pre><code class="sh">> mkdir webpack-test && cd webpack-test
> npm init -y
> npm i -D webpack # ~30sn</code></pre>
				</section>
				<section>
				<p>package.json</p>
				<pre><code class="json" data-noescape>"scripts": {
  <mark>"start": "webpack",</mark>
  <mark>"watch": "webpack -w",</mark>
  <mark>"build": "webpack -p",</mark>
  "test": "echo \"Error: no test specified\" && exit 1"
}</code></pre>
					<div class="fragment">
						<p>webpack.config.js</p>
<pre><code class="js">const path = require("path");

module.exports = function(env) {
  return {
    entry: ["./src/index.js"],
    output: {
      filename: "bundle.js",
      path: path.resolve(__dirname, "build"),
    }
  }
}</code></pre>
					</div>
					<aside class="notes">package-lock | npm module resolution</aside>
				</section>
				<section>
					<pre><code class="sh">> mkdir src && cd src</code></pre>
					<pre><code class="js">// ./src/index.js
console.dir(navigator)</code></pre>
					<pre><code class="sh">> npm start</code></pre>
				</section>
				<section>

				</section>
			</section>
			<section>
				<section>
					<h2>Kodu alalım</h2>
				  <pre><code class="sh">> git clone https://github.com/d0ruk/webpack-sunum
> cd webpack-sunum
> git checkout basic
> npm i</code></pre>
        </section>
				<section>
					<pre><code class="js">{
  entry: {
    // string | [string]
    chunkName: "./src/index.js",
  },
  output: {
    filename: "bundle.js", // sadece dosya adı
    // asset'lerin konulacağı klasöre absolute path
    path: path.resolve(__dirname, "build"),
    publicPath: "/public/"
  }
}</code></pre>
				</section>
				<section>
					<p>Substitutions</p>
					<pre><code class="js">{
  entry: {
    app: "./src/index.js",
    search: "./src/search.js"
  },
  output: {
    filename: "[name].js", // [hash] [chunkhash]
    sourceMapFilename: "[file].map" // [id] [hash]
    path: path.resolve(__dirname, "build"),
    publicPath: "http://cdn.com/"
  }
}</code></pre>
				</section>
				<section>
					<pre><code class="js">module: {
  rules: [
    {
      test: /\.css$/, // RegExp
      include: [path.resolve(__dirname, "src")], // Array
      use: {
        loader: "babel-loader",
        options: { cacheDirectory: true, }
      },
    },
    {
      test: /\.js$/
          ...
    }
  ]
}</code></pre>
				</section>
				<section>
					<h2>Temel config ayarları</h2>
					<pre><code class="js">module: {
  entry: { [name]: Array },
  output: { filename: String, path: String },
  rules: [{
    test: RegExp,
    use: {
      loader: String,
      options: {}
    }
  }, {}, {}]
}</code></pre>
				</section>
			</section>
			<section>
				<section>
					<h3>Referanslar</h3>
				</section>
				<section>
					<ul>
						<li><a href="https://survivejs.com/webpack/introduction/">surviveJS</a></li>
						<li><a href="https://github.com/webpack-contrib/awesome-webpack">github/awesome-webpack</a></li>
						<li><a href="https://webpack.js.org/loaders/">docs/loaders</a></li>
						<li><a href="https://webpack.js.org/plugins/">docs/plugins</a></li>
						<li><a href="https://medium.com/tag/webpack">medium.com</a></li>
					</ul>
				</section>
				<section>
					<img src="images/webpack3-release.png">
				</section>
			</section>
			<!-- ENDS HERE -->
			</div>
	</div>
	<script src="js/head.min.js"></script>
	<script src="js/reveal.js"></script>
	<script src="js/timer.js"></script>

	<script>
		Reveal.initialize({
			"progress": false,
			"help": false,
			// "transition": "zoom",
			dependencies: [
				{ src: "js/classList.js", condition: function() { return !document.body.classList; } },
				{ src: "plugin/highlight/highlight.js", async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
				{ src: "plugin/notes/notes.js", async: true },
			]
		});
	</script>
</body>
</html>
